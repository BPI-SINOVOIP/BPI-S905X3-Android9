genrule {
    name: "hidl_error_test_gen",
    tools: ["hidl-gen"],
    tool_files: ["hidl_error_test.sh"],
    cmd: "$(location hidl_error_test.sh) $(location hidl-gen) &&" +
         "echo 'int main(){return 0;}' > $(genDir)/TODO_b_37575883.cpp",
    out: ["TODO_b_37575883.cpp"],
    srcs: [
        "hidl_error_test.sh",

        "**/*.hal",
        "**/required_error",
    ],
}

cc_test_host {
    name: "hidl_error_test",
    cflags: ["-Wall", "-Werror"],
    generated_sources: ["hidl_error_test_gen"],
}
