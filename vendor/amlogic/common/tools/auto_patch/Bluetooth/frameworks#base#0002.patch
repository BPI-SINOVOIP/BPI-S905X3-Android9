From 7ebd5ab0b2703559ef62a47887fa91f73fed5041 Mon Sep 17 00:00:00 2001
From: Kuibao Zhang <kuibao.zhang@amlogic.com>
Date: Mon, 1 Jul 2019 17:25:36 +0800
Subject: [PATCH] BT: setting crash after BT paired to Phone [2/2]

Change-Id: Ieb7a363804c25e86a99678911d4958cd1b4d70b4
---
 .../com/android/settingslib/bluetooth/CachedBluetoothDevice.java | 9 +++++++++
 1 file changed, 9 insertions(+)
 mode change 100644 => 100755 packages/SettingsLib/src/com/android/settingslib/bluetooth/CachedBluetoothDevice.java

diff --git a/packages/SettingsLib/src/com/android/settingslib/bluetooth/CachedBluetoothDevice.java b/packages/SettingsLib/src/com/android/settingslib/bluetooth/CachedBluetoothDevice.java
old mode 100644
new mode 100755
index bb8fbe2..81158a2
--- a/packages/SettingsLib/src/com/android/settingslib/bluetooth/CachedBluetoothDevice.java
+++ b/packages/SettingsLib/src/com/android/settingslib/bluetooth/CachedBluetoothDevice.java
@@ -1200,4 +1200,13 @@ public class CachedBluetoothDevice implements Comparable<CachedBluetoothDevice>
         return mProfileManager.getHeadsetProfile().getConnectionStatus(mDevice) ==
                 BluetoothProfile.STATE_CONNECTED;
     }
+
+    /**
+     * @return {@code true} if {@code cachedBluetoothDevice} is a2dpsink device
+     */
+    public boolean isA2dpSinkDevice() {
+        return mProfileManager.getA2dpSinkProfile().getConnectionStatus(mDevice) ==
+                BluetoothProfile.STATE_CONNECTED;
+    }
+
 }
-- 
1.9.1

